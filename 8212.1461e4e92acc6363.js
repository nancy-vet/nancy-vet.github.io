"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8212],{8212:(E,j,l)=>{l.r(j),l.d(j,{DosePageModule:()=>I});var r=l(5150),v=l(177),f=l(4341),M=l(9858),e=l(3953),D=l(8627),C=l(8104);let _=(()=>{var n;class c{constructor(){this.template="item",this.onSelectCard=new e.bkB,this.$uiProperty={title:"",activeSubstance:"",drugDose:"0",activeSubstanceDose:"0",patientDose:"0",applicationMethod:""}}ngOnInit(){const t=this.calculateDose(this.inputPatientModel,this.object);console.log("@@@@@@@@@@@@@@@@@@@@@@@"),console.log("@@@@@@@@@@@@@@@@@@@@@@@"),console.log("@@@@@@@@@@@@@@@@@@@@@@@"),console.log("@@@@@@@@@@@@@@@@@@@@@@@"),console.log(t),console.log("@@@@@@@@@@@@@@@@@@@@@@@"),console.log("@@@@@@@@@@@@@@@@@@@@@@@"),console.log("@@@@@@@@@@@@@@@@@@@@@@@"),console.log("@@@@@@@@@@@@@@@@@@@@@@@"),this.imagePath=this.buildAssetPath(),this.$uiProperty.title=this.object.title,this.$uiProperty.activeSubstance=this.object.activeSubstance,this.$uiProperty.drugDose=t.drugDose,this.$uiProperty.activeSubstanceDose=parseFloat(t.activeSubstanceDose).toFixed(3),this.$uiProperty.patientDose=t.patientDose,this.$uiProperty.applicationMethod=t.applicationMethod,console.log("@@@@@@@@@@@@@@@@@@@@@@@"),console.log("@@@@@@@@@@@@@@@@@@@@@@@"),console.log("@@@@@@@@@@@@@@@@@@@@@@@"),console.log("@@@@@@@@@@@@@@@@@@@@@@@"),console.log(this.$uiProperty),console.log("@@@@@@@@@@@@@@@@@@@@@@@"),console.log("@@@@@@@@@@@@@@@@@@@@@@@"),console.log("@@@@@@@@@@@@@@@@@@@@@@@"),console.log("@@@@@@@@@@@@@@@@@@@@@@@")}processCard(){this.onSelectCard.emit(this.object)}buildAssetPath(){var t,o,a,s,d,h,m,u,p,g,b,y,P;return"respiratory"==(null===(t=this.object)||void 0===t?void 0:t.type)?"/assets/icon/respiratory.png":"gastrointestinal"==(null===(o=this.object)||void 0===o?void 0:o.type)?"/assets/icon/gastrointestinal.png":"cardiovascular"==(null===(a=this.object)||void 0===a?void 0:a.type)?"/assets/icon/cardiovascular.png":"urogenital"==(null===(s=this.object)||void 0===s?void 0:s.type)?"/assets/icon/urogenital.png":"nervous"==(null===(d=this.object)||void 0===d?void 0:d.type)?"/assets/icon/nervous.png":"eyes"==(null===(h=this.object)||void 0===h?void 0:h.type)?"/assets/icon/eyes.png":"ears"==(null===(m=this.object)||void 0===m?void 0:m.type)?"/assets/icon/ears.png":"skin"==(null===(u=this.object)||void 0===u?void 0:u.type)?"/assets/icon/skin.png":"antibiotics"==(null===(p=this.object)||void 0===p?void 0:p.type)?"/assets/icon/antibiotics.png":"antiparasitic"==(null===(g=this.object)||void 0===g?void 0:g.type)?"/assets/icon/antiparasitic.png":"endocrine"==(null===(b=this.object)||void 0===b?void 0:b.type)?"/assets/icon/chemotherapeutics.png":"antiinflammatory"==(null===(y=this.object)||void 0===y?void 0:y.type)?"/assets/icon/antiinflammatory.png":"others"==(null===(P=this.object)||void 0===P?void 0:P.type)?"/assets/icon/others.png":""}calculateDose(t,o){const a=t.patientWeight,s=o.drugConcentration,d=this.getApplicatyonMethodBasedOnType(),h=d.activeSubstanceDose,m=d.applicationMethod;let u=[],p=[];for(const g of d.activeSubstanceDose)u.push(a*g),p.push(a*g/s);return console.log("#$"),console.log("#$"),console.log("#$"),console.log("#$"),console.log("#$"),console.log("#$"),console.log(u),console.log(p),console.log("#$"),console.log("#$"),console.log("#$"),console.log("#$"),console.log("#$"),console.log("#$"),{activeSubstanceDose:h,applicationMethod:m,patientDose:u.join(" - "),drugDose:p.join(" - ")}}getApplicatyonMethodBasedOnType(){const t=this.inputPatientModel.patientType;if(!t)throw new Error("Something whent compleatly wrong");return this.object.application[this.object.application[t]||"any"]}}return(n=c).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.VBU({type:n,selectors:[["dc-card2"]],inputs:{template:"template",object:"object",inputPatientModel:"inputPatientModel"},outputs:{onSelectCard:"onSelectCard"},standalone:!0,features:[e.aNF],decls:24,vars:5,consts:[[1,"mt16","card",3,"click"],[1,"ml8"],[1,"card-title"],[2,"font-size","12px"],[1,"ml8",2,"display","flex","margin-left","auto","justify-content","flex-end","flex-direction","column"],[1,"ml8","mt16",2,"display","flex","margin-right","16px"],[2,"padding","5px","width","160px"],[2,"padding","5px","margin-right","16px"],["src","./assets/imgs/arrow.png"],[2,"background","#4b8ffa","color","#fff","padding","5px 5px"],[2,"background","#d60b52","color","#fff","padding","5px 5px"],[1,"ml8","mt16",2,"display","flex","margin-right","16px","border-top","solid #dedede 2px"],[2,"padding","5px","margin-top","6px"]],template:function(t,o){1&t&&(e.j41(0,"div",0),e.bIt("click",function(){return o.processCard()}),e.j41(1,"div",1)(2,"div",2),e.EFF(3),e.k0s(),e.j41(4,"div",3),e.EFF(5),e.k0s()(),e.j41(6,"div",4)(7,"div",5)(8,"div",6),e.EFF(9," \u041f\u0430\u0446\u0438\u0435\u043d\u0442 \u0434\u043e\u0437\u0430 "),e.k0s(),e.j41(10,"div",7),e.nrm(11,"img",8),e.k0s(),e.j41(12,"div",9),e.EFF(13),e.k0s()(),e.j41(14,"div",5)(15,"div",6),e.EFF(16," \u041b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e \u0434\u043e\u0437\u0430 "),e.k0s(),e.j41(17,"div",7),e.nrm(18,"img",8),e.k0s(),e.j41(19,"div",10),e.EFF(20),e.k0s()(),e.j41(21,"div",11)(22,"div",12),e.EFF(23),e.k0s()()()()),2&t&&(e.R7$(3),e.SpI(" ",o.$uiProperty.title," "),e.R7$(2),e.SpI(" ",o.$uiProperty.activeSubstance," "),e.R7$(8),e.SpI(" ",o.$uiProperty.patientDose," mg "),e.R7$(7),e.SpI(" ",o.$uiProperty.drugDose," ml "),e.R7$(3),e.SpI(" ",o.$uiProperty.applicationMethod," "))},styles:[".card[_ngcontent-%COMP%]{cursor:pointer;background:#f8e8ee;padding:8px;border-radius:6px}.card-logo[_ngcontent-%COMP%]{display:inline-block;width:48px;height:48px;background:#dedede;border-radius:28px;text-align:center}.card-title[_ngcontent-%COMP%]{font-weight:700;color:#35a8d8cc}"]}),c})();var $=l(3662);function x(n,c){if(1&n){const i=e.RV6();e.j41(0,"div")(1,"dc-card",11),e.bIt("onSelectCard",function(o){e.eBV(i);const a=e.XpG();return e.Njj(a.processSelectedCard(o))}),e.k0s()()}if(2&n){const i=c.$implicit;e.R7$(),e.Y8G("inputTitle",null==i?null:i.title)("object",i)}}function S(n,c){if(1&n&&(e.j41(0,"div"),e.nrm(1,"dc-card2",13),e.k0s()),2&n){const i=c.$implicit,t=e.XpG(2);e.R7$(),e.Y8G("inputPatientModel",t.$formProperty)("template","card")("object",i)}}function k(n,c){if(1&n&&(e.j41(0,"div")(1,"div",12),e.EFF(2,"# \u041f\u0440\u0435\u0434\u043f\u0438\u0441\u0430\u043d\u0438"),e.k0s(),e.nrm(3,"div"),e.DNE(4,S,2,3,"div",9),e.k0s()),2&n){const i=e.XpG();e.R7$(4),e.Y8G("ngForOf",i.cardCollection)}}let F=(()=>{var n;class c{constructor(){this.inputSuggestionCollection=[],this.cardCollection=[],this.$componentState={isPatientCreated:!1},this.$uiProperty={title:"\u0414\u043e\u0431\u0430\u0432\u0438 \u043f\u0430\u0446\u0438\u0435\u043d\u0442"},this.$formProperty={patientName:"",patientWeight:0,patientType:"",activeMedicine:""},this.dataService=(0,e.WQX)(D.u),this.ttt=(0,e.WQX)(r._t)}onInput(t){this.inputSuggestionCollection=this.dataService.getById(null==t?void 0:t.detail.value)}processSelectPatientType(t){this.$formProperty.patientType=t}processAddPatient(t){this.$componentState.isPatientCreated=!0}isMedicinePickerVisible(){return 1==this.$componentState.isPatientCreated}processSelectedCard(t){this.inputSuggestionCollection=[],this.$formProperty.activeMedicine="",this.cardCollection.push(t)}processOpenMenu(){console.log("start menu item"),this.ttt.close("first-menu"),this.ttt.open("first-menu")}}return(n=c).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.VBU({type:n,selectors:[["page-calculator-dose"]],decls:22,vars:7,consts:[[3,"translucent"],["slot","start"],["id","main-content",3,"fullscreen"],["size","9",2,"display","flex"],[3,"onSelected"],["size","2"],["aria-label","Custom input","placeholder","\u041a\u0433",1,"custom",3,"ngModelChange","counter","ngModel"],["size","12"],["placeholder","\u0412\u044a\u0432\u0435\u0434\u0438 \u043c\u0435\u0434\u0438\u043a\u0430\u043c\u0435\u043d\u0442",3,"ngModelChange","ionInput","ngModel"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"onSelectCard","inputTitle","object"],[2,"font-weight","bold","font-size","18px","margin-top","16px"],[3,"inputPatientModel","template","object"]],template:function(t,o){1&t&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.nrm(3,"ion-menu-button"),e.k0s(),e.j41(4,"ion-title"),e.EFF(5," \u041f\u0440\u0435\u0441\u043c\u044f\u0442\u0430\u043d\u0435 \u043d\u0430 \u0434\u043e\u0437\u0438 "),e.k0s()()(),e.j41(6,"ion-content",2)(7,"ion-grid")(8,"ion-row")(9,"ion-col",3)(10,"dc-patient-picker",4),e.bIt("onSelected",function(s){return o.processSelectPatientType(s)}),e.k0s()(),e.j41(11,"ion-col",5)(12,"ion-input",6),e.mxI("ngModelChange",function(s){return e.DH7(o.$formProperty.patientWeight,s)||(o.$formProperty.patientWeight=s),s}),e.k0s()()()(),e.j41(13,"ion-grid")(14,"ion-row")(15,"ion-col",7)(16,"ion-searchbar",8),e.mxI("ngModelChange",function(s){return e.DH7(o.$formProperty.activeMedicine,s)||(o.$formProperty.activeMedicine=s),s}),e.bIt("ionInput",function(s){return o.onInput(s)}),e.k0s()()()(),e.j41(17,"ion-grid")(18,"ion-row")(19,"ion-col",7),e.DNE(20,x,2,2,"div",9)(21,k,5,1,"div",10),e.k0s()()()()),2&t&&(e.Y8G("translucent",!0),e.R7$(6),e.Y8G("fullscreen",!0),e.R7$(6),e.Y8G("counter",!0),e.R50("ngModel",o.$formProperty.patientWeight),e.R7$(4),e.R50("ngModel",o.$formProperty.activeMedicine),e.R7$(4),e.Y8G("ngForOf",o.inputSuggestionCollection),e.R7$(),e.Y8G("ngIf",o.cardCollection.length>0))},dependencies:[r.QW,r.hU,r.W9,r.lO,r.eU,r.$w,r.MC,r.ln,r.S1,r.BC,r.ai,r.Gw,v.Sq,v.bT,f.BC,f.vS,C.e,_,$.T],styles:[".card-logo[_ngcontent-%COMP%]{background:#dedede;border-radius:45px;padding:3px;width:47px;height:47px;text-align:center}.category-circle[_ngcontent-%COMP%]{display:inline-block;width:56px;height:56px;background:#dedede;border-radius:38px;text-align:center;margin:8px}ion-input.custom[_ngcontent-%COMP%]{--background: #dedede;--color: #d60b52;--placeholder-color: #ddd;--placeholder-opacity: .8;--padding-bottom: 10px;--padding-end: 10px;--padding-start: 10px;--padding-top: 10px;margin-top:14px;text-align:center}ion-input.custom[_ngcontent-%COMP%]   .helper-text[_ngcontent-%COMP%], ion-input.custom[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{color:var(--ion-color-step-700, #373737)}#calculated-dose[_ngcontent-%COMP%]{padding:10px}.div-drug-calculated[_ngcontent-%COMP%]{cursor:pointer;background:#249ea057;padding:8px;border-radius:6px}#div-active-substance[_ngcontent-%COMP%], #div-active-substance-dose[_ngcontent-%COMP%]{font-size:.8rem}#div-calculated-doses[_ngcontent-%COMP%]{display:flex;margin-left:auto;justify-content:flex-end;gap:10px}#div-drug-needed-as[_ngcontent-%COMP%]{background:#4b8ffa;color:#fff;padding:5px}#div-drug-needed-med[_ngcontent-%COMP%]{background:#d60b52;color:#fff;padding:5px}#div-drug-appl[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:5px 0}"]}),c})();var O=l(7451);const T=[{path:"",component:F}];let I=(()=>{var n;class c{}return(n=c).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[M.iI.forChild(T),r.bv,v.MD,f.YN,C.e,O.M,$.T]}),c})()}}]);